{
  "results": {
    "security_sales_1-1.0-0.2": {
      "acc,none": 0.38596491228070173,
      "acc_stderr,none": 0.06505437269382161,
      "acc_norm,none": 0.38596491228070173,
      "acc_norm_stderr,none": 0.06505437269382161,
      "map,none": 0.652046783625731,
      "map_stderr,none": 0.03835655052110116,
      "map_2,none": 0.5964912280701754,
      "map_2_stderr,none": 0.0491764833843323,
      "map_3,none": 0.6257309941520467,
      "map_3_stderr,none": 0.044206371112190314,
      "map_4,none": 0.652046783625731,
      "map_4_stderr,none": 0.03835655052110116,
      "map_norm,none": 0.652046783625731,
      "map_norm_stderr,none": 0.03835655052110116,
      "map_2_norm,none": 0.5964912280701754,
      "map_2_norm_stderr,none": 0.0491764833843323,
      "map_3_norm,none": 0.6257309941520467,
      "map_3_norm_stderr,none": 0.044206371112190314,
      "map_4_norm,none": 0.652046783625731,
      "map_4_norm_stderr,none": 0.03835655052110116,
      "alias": "security_sales_1-1.0-0.2"
    },
    "fp2-1.0-0.2": {
      "acc,none": 0.27157894736842103,
      "acc_stderr,none": 0.020429141855467268,
      "acc_norm,none": 0.27157894736842103,
      "acc_norm_stderr,none": 0.020429141855467268,
      "map,none": 0.5280701754385974,
      "map_stderr,none": 0.013512866703057185,
      "map_2,none": 0.3831578947368421,
      "map_2_stderr,none": 0.01923073812237815,
      "map_3,none": 0.4680701754385973,
      "map_3_stderr,none": 0.016644690210852443,
      "map_4,none": 0.5280701754385974,
      "map_4_stderr,none": 0.013512866703057185,
      "map_norm,none": 0.5280701754385974,
      "map_norm_stderr,none": 0.013512866703057185,
      "map_2_norm,none": 0.3831578947368421,
      "map_2_norm_stderr,none": 0.01923073812237815,
      "map_3_norm,none": 0.4680701754385973,
      "map_3_norm_stderr,none": 0.016644690210852443,
      "map_4_norm,none": 0.5280701754385974,
      "map_4_norm_stderr,none": 0.013512866703057185,
      "alias": "fp2-1.0-0.2"
    },
    "cpa_audit-1.0-0.2": {
      "acc,none": 0.16331658291457288,
      "acc_stderr,none": 0.018552415816923466,
      "acc_norm,none": 0.16331658291457288,
      "acc_norm_stderr,none": 0.018552415816923466,
      "map,none": 0.3912060301507537,
      "map_stderr,none": 0.013962035708338002,
      "map_2,none": 0.22989949748743718,
      "map_2_stderr,none": 0.01860857946688705,
      "map_3,none": 0.27847571189279696,
      "map_3_stderr,none": 0.01802391236461055,
      "map_4,none": 0.32370184254606327,
      "map_4_stderr,none": 0.016874283597434786,
      "map_norm,none": 0.3912060301507537,
      "map_norm_stderr,none": 0.013962035708338002,
      "map_2_norm,none": 0.22989949748743718,
      "map_2_norm_stderr,none": 0.01860857946688705,
      "map_3_norm,none": 0.27847571189279696,
      "map_3_norm_stderr,none": 0.01802391236461055,
      "map_4_norm,none": 0.32370184254606327,
      "map_4_norm_stderr,none": 0.016874283597434786,
      "alias": "cpa_audit-1.0-0.2"
    },
    "cma_basics-1.0-0.2": {
      "acc,none": 0.15789473684210525,
      "acc_stderr,none": 0.05994682078436838,
      "acc_norm,none": 0.15789473684210525,
      "acc_norm_stderr,none": 0.05994682078436838,
      "map,none": 0.46491228070175444,
      "map_stderr,none": 0.041175576682005374,
      "map_2,none": 0.3026315789473684,
      "map_2_stderr,none": 0.06122119517241923,
      "map_3,none": 0.39912280701754393,
      "map_3_stderr,none": 0.05279431928471086,
      "map_4,none": 0.46491228070175444,
      "map_4_stderr,none": 0.041175576682005374,
      "map_norm,none": 0.46491228070175444,
      "map_norm_stderr,none": 0.041175576682005374,
      "map_2_norm,none": 0.3026315789473684,
      "map_2_norm_stderr,none": 0.06122119517241923,
      "map_3_norm,none": 0.39912280701754393,
      "map_3_norm_stderr,none": 0.05279431928471086,
      "map_4_norm,none": 0.46491228070175444,
      "map_4_norm_stderr,none": 0.041175576682005374,
      "alias": "cma_basics-1.0-0.2"
    },
    "chabsa-1.0-0.2": {
      "acc,none": 0.5668781561569338,
      "acc_stderr,none": 0.005638778123802729,
      "f1,none": 0.3752249024759175,
      "f1_stderr,none": "N/A",
      "acc_norm,none": 0.5668781561569338,
      "acc_norm_stderr,none": 0.005638778123802729,
      "f1_norm,none": 0.3752249024759175,
      "f1_norm_stderr,none": "N/A",
      "alias": "chabsa-1.0-0.2"
    }
  },
  "group_subtasks": {
    "chabsa-1.0-0.2": [],
    "cma_basics-1.0-0.2": [],
    "cpa_audit-1.0-0.2": [],
    "fp2-1.0-0.2": [],
    "security_sales_1-1.0-0.2": []
  },
  "configs": {
    "chabsa-1.0-0.2": {
      "task": "chabsa-1.0-0.2",
      "dataset_path": "jlm_fin_eval/datasets/chabsa/chabsa.py",
      "dataset_name": "chABSA",
      "test_split": "test",
      "doc_to_text": "センテンス: {{sentence}}\nターゲット: {{target}}\n回答:",
      "doc_to_target": "{{polarity}}",
      "doc_to_choice": [
        "positive",
        "negative"
      ],
      "description": "センテンスとターゲットを入力として受け取り、ターゲットに関するセンチメントをpositiveかnegativeから選択してください。\n\n\n",
      "target_delimiter": " ",
      "fewshot_delimiter": "\n\n",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "f1",
          "aggregation": "2class_adjusted_macro_f1_score_for_chabsa",
          "higher_is_better": true
        },
        {
          "metric": "f1_norm",
          "aggregation": "2class_adjusted_macro_f1_score_for_chabsa",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": false,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    },
    "cma_basics-1.0-0.2": {
      "task": "cma_basics-1.0-0.2",
      "dataset_path": "jlm_fin_eval/datasets/cma_basics/cma_basics.py",
      "dataset_name": "cma_basics",
      "test_split": "test",
      "doc_to_text": "def doc_to_text_02(doc):\n    q_doc_text = doc[\"question\"] + \"\\n\"\n    if doc[\"context\"] and doc[\"context\"] != \"\":\n        q_doc_text += doc[\"context\"] + \"\\n\"\n    choices = \",\".join(\n        [\n            f\"{idx}.{choice}\"\n            for idx, choice in zip(doc[\"choices\"][\"id\"], doc[\"choices\"][\"text\"])\n        ]\n    )\n    return f\"質問:{q_doc_text}\" f\"選択肢:{choices}\\n\" \"回答:\"\n",
      "doc_to_target": "def doc_to_target_02(doc):\n    return [\n        str(choice_id)\n        for choice_id in doc[\"choices\"][\"id\"]\n        if choice_id == doc[\"answer\"]\n    ][0]\n",
      "doc_to_choice": "def doc_to_choices_02(doc):\n    return [str(choice) for choice in doc[\"choices\"][\"id\"]]\n",
      "description": "質問と回答の選択肢を入力として受け取り、選択肢から回答を選択してください。なお、回答は選択肢の番号(例:0)でするものとします。\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": "\n\n",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4_norm",
          "aggregation": "mean",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": true,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    },
    "cpa_audit-1.0-0.2": {
      "task": "cpa_audit-1.0-0.2",
      "dataset_path": "jlm_fin_eval/datasets/cpa/cpa_audit.py",
      "dataset_name": "cpa_audit",
      "test_split": "test",
      "doc_to_text": "def doc_to_text_02(doc):\n    q_doc_text = doc[\"question\"] + \"\\n\"\n    if doc[\"context\"] and doc[\"context\"] != \"\":\n        q_doc_text += doc[\"context\"] + \"\\n\"\n    choices = \",\".join(\n        [\n            f\"{idx}.{choice}\"\n            for idx, choice in zip(doc[\"choices\"][\"id\"], doc[\"choices\"][\"text\"])\n        ]\n    )\n    return f\"質問:{q_doc_text}\" f\"選択肢:{choices}\\n\" \"回答:\"\n",
      "doc_to_target": "def doc_to_target_02(doc):\n    return [\n        str(choice_id)\n        for choice_id in doc[\"choices\"][\"id\"]\n        if choice_id == doc[\"answer\"]\n    ][0]\n",
      "doc_to_choice": "def doc_to_choices_02(doc):\n    return [str(choice) for choice in doc[\"choices\"][\"id\"]]\n",
      "description": "質問とその答えとして適切な記号の組み合わせの選択肢を入力として受け取り、選択肢から回答を選択してください。なお、回答は選択肢の番号(例:0)でするものとします。\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": "\n\n",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4_norm",
          "aggregation": "mean",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": true,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    },
    "fp2-1.0-0.2": {
      "task": "fp2-1.0-0.2",
      "dataset_path": "jlm_fin_eval/datasets/fp2/fp2.py",
      "dataset_name": "fp2",
      "test_split": "test",
      "doc_to_text": "def doc_to_text_02(doc):\n    q_doc_text = doc[\"question\"] + \"\\n\"\n    if doc[\"context\"] and doc[\"context\"] != \"\":\n        q_doc_text += doc[\"context\"] + \"\\n\"\n    choices = \",\".join(\n        [\n            f\"{idx}.{choice}\"\n            for idx, choice in zip(doc[\"choices\"][\"id\"], doc[\"choices\"][\"text\"])\n        ]\n    )\n    return f\"質問:{q_doc_text}\" f\"選択肢:{choices}\\n\" \"回答:\"\n",
      "doc_to_target": "def doc_to_target_02(doc):\n    return [\n        str(choice_id)\n        for choice_id in doc[\"choices\"][\"id\"]\n        if choice_id == doc[\"answer\"]\n    ][0]\n",
      "doc_to_choice": "def doc_to_choices_02(doc):\n    return [str(choice) for choice in doc[\"choices\"][\"id\"]]\n",
      "description": "質問と回答の選択肢を入力として受け取り、選択肢から回答を選択してください。なお、回答は選択肢の番号(例:0)でするものとします。\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": "\n\n",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4_norm",
          "aggregation": "mean",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": true,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    },
    "security_sales_1-1.0-0.2": {
      "task": "security_sales_1-1.0-0.2",
      "dataset_path": "jlm_fin_eval/datasets/security_sales_1/security_sales_1.py",
      "dataset_name": "security_sales_1",
      "test_split": "test",
      "doc_to_text": "def doc_to_text_02(doc):\n    q_doc_text = doc[\"question\"] + \"\\n\"\n    if doc[\"context\"] and doc[\"context\"] != \"\":\n        q_doc_text += doc[\"context\"] + \"\\n\"\n    choices = \",\".join(\n        [\n            f\"{idx}.{choice}\"\n            for idx, choice in zip(doc[\"choices\"][\"id\"], doc[\"choices\"][\"text\"])\n        ]\n    )\n    return f\"質問:{q_doc_text}\" f\"選択肢:{choices}\\n\" \"回答:\"\n",
      "doc_to_target": "def doc_to_target_02(doc):\n    return [\n        str(choice_id)\n        for choice_id in doc[\"choices\"][\"id\"]\n        if choice_id == doc[\"answer\"]\n    ][0]\n",
      "doc_to_choice": "def doc_to_choices_02(doc):\n    return [str(choice) for choice in doc[\"choices\"][\"id\"]]\n",
      "description": "質問と回答の選択肢を入力として受け取り、選択肢から回答を選択してください。なお、回答は選択肢の番号(例:0)でするものとします。\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": "\n\n",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4_norm",
          "aggregation": "mean",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": true,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    }
  },
  "versions": {
    "chabsa-1.0-0.2": 1.0,
    "cma_basics-1.0-0.2": 1.0,
    "cpa_audit-1.0-0.2": 1.0,
    "fp2-1.0-0.2": 1.0,
    "security_sales_1-1.0-0.2": 1.0
  },
  "n-shot": {
    "chabsa-1.0-0.2": 0,
    "cma_basics-1.0-0.2": 0,
    "cpa_audit-1.0-0.2": 0,
    "fp2-1.0-0.2": 0,
    "security_sales_1-1.0-0.2": 0
  },
  "config": {
    "model": "vllm",
    "model_args": "pretrained=stabilityai/japanese-stablelm-3b-4e1t-instruct,trust_remote_code=True,dtype=bfloat16",
    "batch_size": 1,
    "batch_sizes": [],
    "device": null,
    "use_cache": null,
    "limit": null,
    "bootstrap_iters": 100000,
    "gen_kwargs": null
  },
  "git_hash": "f486b5d",
  "date": 1714412329.039912,
  "pretty_env_info": "'NoneType' object has no attribute 'splitlines'",
  "transformers_version": "4.40.1",
  "upper_git_hash": null
}