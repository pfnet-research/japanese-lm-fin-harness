{
  "results": {
    "security_sales_1-1.0-0.6": {
      "acc,none": 0.45614035087719296,
      "acc_stderr,none": 0.06655775300696491,
      "acc_norm,none": 0.45614035087719296,
      "acc_norm_stderr,none": 0.06655775300696491,
      "map,none": 0.698830409356725,
      "map_stderr,none": 0.037821442456948906,
      "map_2,none": 0.6491228070175439,
      "map_2_stderr,none": 0.048416194227948635,
      "map_3,none": 0.6900584795321637,
      "map_3_stderr,none": 0.040110583290062604,
      "map_4,none": 0.698830409356725,
      "map_4_stderr,none": 0.037821442456948906,
      "map_norm,none": 0.6900584795321638,
      "map_norm_stderr,none": 0.039454341001538835,
      "map_2_norm,none": 0.6491228070175439,
      "map_2_norm_stderr,none": 0.048416194227948635,
      "map_3_norm,none": 0.6549707602339182,
      "map_3_norm_stderr,none": 0.04735771922385046,
      "map_4_norm,none": 0.6900584795321638,
      "map_4_norm_stderr,none": 0.039454341001538835,
      "alias": "security_sales_1-1.0-0.6"
    },
    "fp2-1.0-0.6": {
      "acc,none": 0.25263157894736843,
      "acc_stderr,none": 0.019958229813034252,
      "acc_norm,none": 0.25263157894736843,
      "acc_norm_stderr,none": 0.019958229813034252,
      "map,none": 0.5128070175438604,
      "map_stderr,none": 0.013441549811192027,
      "map_2,none": 0.36210526315789476,
      "map_2_stderr,none": 0.019109406563721388,
      "map_3,none": 0.4428070175438602,
      "map_3_stderr,none": 0.01687838456916434,
      "map_4,none": 0.5128070175438604,
      "map_4_stderr,none": 0.013441549811192027,
      "map_norm,none": 0.5128070175438604,
      "map_norm_stderr,none": 0.013441549811192027,
      "map_2_norm,none": 0.36210526315789476,
      "map_2_norm_stderr,none": 0.019109406563721388,
      "map_3_norm,none": 0.4428070175438602,
      "map_3_norm_stderr,none": 0.01687838456916434,
      "map_4_norm,none": 0.5128070175438604,
      "map_4_norm_stderr,none": 0.013441549811192027,
      "alias": "fp2-1.0-0.6"
    },
    "cpa_audit-1.0-0.6": {
      "acc,none": 0.135678391959799,
      "acc_stderr,none": 0.01718690893025356,
      "acc_norm,none": 0.1306532663316583,
      "acc_norm_stderr,none": 0.016914586905916507,
      "map,none": 0.3755862646566163,
      "map_stderr,none": 0.013416874311581875,
      "map_2,none": 0.1984924623115578,
      "map_2_stderr,none": 0.0179339797893852,
      "map_3,none": 0.2646566164154101,
      "map_3_stderr,none": 0.01732029142676055,
      "map_4,none": 0.30799832495812357,
      "map_4_stderr,none": 0.016271670621312226,
      "map_norm,none": 0.37307370184254596,
      "map_norm_stderr,none": 0.013238481038240272,
      "map_2_norm,none": 0.19597989949748743,
      "map_2_norm_stderr,none": 0.017737837704098685,
      "map_3_norm,none": 0.26214405360133974,
      "map_3_norm_stderr,none": 0.0171415646769313,
      "map_4_norm,none": 0.3054857621440532,
      "map_4_norm_stderr,none": 0.01609834207807775,
      "alias": "cpa_audit-1.0-0.6"
    },
    "cma_basics-1.0-0.6": {
      "acc,none": 0.18421052631578946,
      "acc_stderr,none": 0.06373021861834362,
      "acc_norm,none": 0.21052631578947367,
      "acc_norm_stderr,none": 0.06702258315442244,
      "map,none": 0.4956140350877193,
      "map_stderr,none": 0.04239493568303646,
      "map_2,none": 0.35526315789473684,
      "map_2_stderr,none": 0.06228203739744134,
      "map_3,none": 0.44298245614035087,
      "map_3_stderr,none": 0.05269574877437268,
      "map_4,none": 0.4956140350877193,
      "map_4_stderr,none": 0.04239493568303646,
      "map_norm,none": 0.5131578947368421,
      "map_norm_stderr,none": 0.04417266210296657,
      "map_2_norm,none": 0.3815789473684211,
      "map_2_norm_stderr,none": 0.0637669190064234,
      "map_3_norm,none": 0.4605263157894737,
      "map_3_norm_stderr,none": 0.05459530063877283,
      "map_4_norm,none": 0.5131578947368421,
      "map_4_norm_stderr,none": 0.04417266210296657,
      "alias": "cma_basics-1.0-0.6"
    },
    "chabsa-1.0-0.6": {
      "acc,none": 0.5611808882558591,
      "acc_stderr,none": 0.005647149750045247,
      "f1,none": 0.3594592352989964,
      "f1_stderr,none": "N/A",
      "acc_norm,none": 0.5611808882558591,
      "acc_norm_stderr,none": 0.005647149750045247,
      "f1_norm,none": 0.3594592352989964,
      "f1_norm_stderr,none": "N/A",
      "alias": "chabsa-1.0-0.6"
    }
  },
  "group_subtasks": {
    "chabsa-1.0-0.6": [],
    "cma_basics-1.0-0.6": [],
    "cpa_audit-1.0-0.6": [],
    "fp2-1.0-0.6": [],
    "security_sales_1-1.0-0.6": []
  },
  "configs": {
    "chabsa-1.0-0.6": {
      "task": "chabsa-1.0-0.6",
      "dataset_path": "jlm_fin_eval/datasets/chabsa/chabsa.py",
      "dataset_name": "chABSA",
      "test_split": "test",
      "doc_to_text": "与えられたセンテンスにおける、ターゲットのセンチメントをpositiveかnegativeで答えてください。\n\nセンテンス: {{sentence}}\nターゲット: {{target}} [/INST]",
      "doc_to_target": "{{polarity}}",
      "doc_to_choice": [
        "positive",
        "negative"
      ],
      "description": "<s>[INST] <<SYS>>\nYou are a helpful, respectful and honest assistant. Always answer as helpfully as possible, while being safe. Your answers should not include any harmful, unethical, racist, sexist, toxic, dangerous, or illegal content. Please ensure that your responses are socially unbiased and positive in nature.\n\nIf a question does not make any sense, or is not factually coherent, explain why instead of answering something not correct. If you don't know the answer to a question, please don't share false information.\n<</SYS>>\n\n\n",
      "target_delimiter": " ",
      "fewshot_delimiter": " </s><s>[INST] ",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "f1",
          "aggregation": "2class_adjusted_macro_f1_score_for_chabsa",
          "higher_is_better": true
        },
        {
          "metric": "f1_norm",
          "aggregation": "2class_adjusted_macro_f1_score_for_chabsa",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": false,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    },
    "cma_basics-1.0-0.6": {
      "task": "cma_basics-1.0-0.6",
      "dataset_path": "jlm_fin_eval/datasets/cma_basics/cma_basics.py",
      "dataset_name": "cma_basics",
      "test_split": "test",
      "doc_to_text": "def doc_to_text_06(doc):\n    INSTRUCTION = \"与えられた選択肢の中から、最適な答えを選んでください。\"\n    q_doc_text = doc[\"question\"]\n    if doc[\"context\"] and doc[\"context\"] != \"\":\n        q_doc_text += \"\\n\" + doc[\"context\"]\n    choices = \"\\n\".join([f\"- {choice}\" for choice in doc[\"choices\"][\"text\"]])\n    input_text = f\"質問：{q_doc_text}\" + f\"出力は以下から選択してください：\\n{choices}\"\n    return f\"{INSTRUCTION}\\n\\n{input_text} [/INST] \"\n",
      "doc_to_target": "def doc_to_target_01(doc):\n    return [\n        choice_text\n        for choice_id, choice_text in zip(doc[\"choices\"][\"id\"], doc[\"choices\"][\"text\"])\n        if choice_id == doc[\"answer\"]\n    ][0]\n",
      "doc_to_choice": "def doc_to_choices_01(doc):\n    choices = doc[\"choices\"][\"text\"]\n    return choices\n",
      "description": "<s>[INST] <<SYS>>\nYou are a helpful, respectful and honest assistant. Always answer as helpfully as possible, while being safe. Your answers should not include any harmful, unethical, racist, sexist, toxic, dangerous, or illegal content. Please ensure that your responses are socially unbiased and positive in nature.\n\nIf a question does not make any sense, or is not factually coherent, explain why instead of answering something not correct. If you don't know the answer to a question, please don't share false information.\n<</SYS>>\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": " </s><s>[INST] ",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4_norm",
          "aggregation": "mean",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": true,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    },
    "cpa_audit-1.0-0.6": {
      "task": "cpa_audit-1.0-0.6",
      "dataset_path": "jlm_fin_eval/datasets/cpa/cpa_audit.py",
      "dataset_name": "cpa_audit",
      "test_split": "test",
      "doc_to_text": "def doc_to_text_06(doc):\n    INSTRUCTION = \"与えられた答えの組み合わせの選択肢の中から、最適な選択肢を選んでください。\"\n    q_doc_text = doc[\"question\"]\n    if doc[\"context\"] and doc[\"context\"] != \"\":\n        q_doc_text += \"\\n\" + doc[\"context\"]\n    choices = \"\\n\".join([f\"- {choice}\" for choice in doc[\"choices\"][\"text\"]])\n    input_text = f\"質問：{q_doc_text}\" + f\"出力は以下から選択してください：\\n{choices}\"\n    return f\"{INSTRUCTION}\\n\\n{input_text} [/INST] \"\n",
      "doc_to_target": "def doc_to_target_01(doc):\n    return [\n        choice_text\n        for choice_id, choice_text in zip(doc[\"choices\"][\"id\"], doc[\"choices\"][\"text\"])\n        if choice_id == doc[\"answer\"]\n    ][0]\n",
      "doc_to_choice": "def doc_to_choices_01(doc):\n    choices = doc[\"choices\"][\"text\"]\n    return choices\n",
      "description": "<s>[INST] <<SYS>>\nYou are a helpful, respectful and honest assistant. Always answer as helpfully as possible, while being safe. Your answers should not include any harmful, unethical, racist, sexist, toxic, dangerous, or illegal content. Please ensure that your responses are socially unbiased and positive in nature.\n\nIf a question does not make any sense, or is not factually coherent, explain why instead of answering something not correct. If you don't know the answer to a question, please don't share false information.\n<</SYS>>\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": " </s><s>[INST] ",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4_norm",
          "aggregation": "mean",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": true,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    },
    "fp2-1.0-0.6": {
      "task": "fp2-1.0-0.6",
      "dataset_path": "jlm_fin_eval/datasets/fp2/fp2.py",
      "dataset_name": "fp2",
      "test_split": "test",
      "doc_to_text": "def doc_to_text_06(doc):\n    INSTRUCTION = \"与えられた選択肢の中から、最適な答えを選んでください。\"\n    q_doc_text = doc[\"question\"]\n    if doc[\"context\"] and doc[\"context\"] != \"\":\n        q_doc_text += \"\\n\" + doc[\"context\"]\n    input_text = f\"質問：{q_doc_text}\"\n    return f\"{INSTRUCTION}\\n\\n{input_text} [/INST] \"\n",
      "doc_to_target": "def doc_to_target_00(doc):\n    answer = doc[\"choices\"][\"text\"][doc[\"choices\"][\"id\"].index(doc[\"answer\"])]\n    return answer\n",
      "doc_to_choice": "def doc_to_choices_00(doc):\n    choices = [choice for choice in doc[\"choices\"][\"text\"]]\n    return choices\n",
      "description": "<s>[INST] <<SYS>>\nYou are a helpful, respectful and honest assistant. Always answer as helpfully as possible, while being safe. Your answers should not include any harmful, unethical, racist, sexist, toxic, dangerous, or illegal content. Please ensure that your responses are socially unbiased and positive in nature.\n\nIf a question does not make any sense, or is not factually coherent, explain why instead of answering something not correct. If you don't know the answer to a question, please don't share false information.\n<</SYS>>\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": " </s><s>[INST] ",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4_norm",
          "aggregation": "mean",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": true,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    },
    "security_sales_1-1.0-0.6": {
      "task": "security_sales_1-1.0-0.6",
      "dataset_path": "jlm_fin_eval/datasets/security_sales_1/security_sales_1.py",
      "dataset_name": "security_sales_1",
      "test_split": "test",
      "doc_to_text": "def doc_to_text_06(doc):\n    INSTRUCTION = \"与えられた選択肢の中から、最適な答えを選んでください。\"\n    q_doc_text = doc[\"question\"]\n    if doc[\"context\"] and doc[\"context\"] != \"\":\n        q_doc_text += \"\\n\" + doc[\"context\"]\n    choices = \"\\n\".join([f\"- {choice}\" for choice in doc[\"choices\"][\"text\"]])\n    input_text = f\"質問：{q_doc_text}\" + f\"出力は以下から選択してください：\\n{choices}\"\n    return f\"{INSTRUCTION}\\n\\n{input_text} [/INST] \"\n",
      "doc_to_target": "def doc_to_target_01(doc):\n    return [\n        choice_text\n        for choice_id, choice_text in zip(doc[\"choices\"][\"id\"], doc[\"choices\"][\"text\"])\n        if choice_id == doc[\"answer\"]\n    ][0]\n",
      "doc_to_choice": "def doc_to_choices_01(doc):\n    choices = doc[\"choices\"][\"text\"]\n    return choices\n",
      "description": "<s>[INST] <<SYS>>\nYou are a helpful, respectful and honest assistant. Always answer as helpfully as possible, while being safe. Your answers should not include any harmful, unethical, racist, sexist, toxic, dangerous, or illegal content. Please ensure that your responses are socially unbiased and positive in nature.\n\nIf a question does not make any sense, or is not factually coherent, explain why instead of answering something not correct. If you don't know the answer to a question, please don't share false information.\n<</SYS>>\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": " </s><s>[INST] ",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4_norm",
          "aggregation": "mean",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": true,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    }
  },
  "versions": {
    "chabsa-1.0-0.6": 1.0,
    "cma_basics-1.0-0.6": 1.0,
    "cpa_audit-1.0-0.6": 1.0,
    "fp2-1.0-0.6": 1.0,
    "security_sales_1-1.0-0.6": 1.0
  },
  "n-shot": {
    "chabsa-1.0-0.6": 0,
    "cma_basics-1.0-0.6": 0,
    "cpa_audit-1.0-0.6": 0,
    "fp2-1.0-0.6": 0,
    "security_sales_1-1.0-0.6": 0
  },
  "config": {
    "model": "vllm",
    "model_args": "pretrained=stabilityai/japanese-stablelm-base-ja_vocab-beta-7b,trust_remote_code=True,dtype=float16",
    "batch_size": 1,
    "batch_sizes": [],
    "device": null,
    "use_cache": null,
    "limit": null,
    "bootstrap_iters": 100000,
    "gen_kwargs": null
  },
  "git_hash": "8c46002",
  "date": 1714449914.9534762,
  "pretty_env_info": "'NoneType' object has no attribute 'splitlines'",
  "transformers_version": "4.40.1",
  "upper_git_hash": null
}