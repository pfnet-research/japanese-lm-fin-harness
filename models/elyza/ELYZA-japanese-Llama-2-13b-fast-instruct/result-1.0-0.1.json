{
  "results": {
    "security_sales_1-1.0-0.1": {
      "acc,none": 0.47368421052631576,
      "acc_stderr,none": 0.06672270432067237,
      "acc_norm,none": 0.47368421052631576,
      "acc_norm_stderr,none": 0.06672270432067237,
      "map,none": 0.7002923976608187,
      "map_stderr,none": 0.03940497284080726,
      "map_2,none": 0.6578947368421053,
      "map_2_stderr,none": 0.048727373672239595,
      "map_3,none": 0.6695906432748538,
      "map_3_stderr,none": 0.04654807031456852,
      "map_4,none": 0.7002923976608187,
      "map_4_stderr,none": 0.03940497284080726,
      "map_norm,none": 0.7002923976608187,
      "map_norm_stderr,none": 0.03940497284080726,
      "map_2_norm,none": 0.6578947368421053,
      "map_2_norm_stderr,none": 0.048727373672239595,
      "map_3_norm,none": 0.6695906432748538,
      "map_3_norm_stderr,none": 0.04654807031456852,
      "map_4_norm,none": 0.7002923976608187,
      "map_4_norm_stderr,none": 0.03940497284080726,
      "alias": "security_sales_1-1.0-0.1"
    },
    "fp2-1.0-0.1": {
      "acc,none": 0.26526315789473687,
      "acc_stderr,none": 0.020277537142625805,
      "acc_norm,none": 0.26526315789473687,
      "acc_norm_stderr,none": 0.020277537142625805,
      "map,none": 0.5303508771929832,
      "map_stderr,none": 0.013599197636936209,
      "map_2,none": 0.38842105263157894,
      "map_2_stderr,none": 0.019267777211785048,
      "map_3,none": 0.4677192982456146,
      "map_3_stderr,none": 0.016845883184738043,
      "map_4,none": 0.5303508771929832,
      "map_4_stderr,none": 0.013599197636936209,
      "map_norm,none": 0.5303508771929832,
      "map_norm_stderr,none": 0.013599197636936209,
      "map_2_norm,none": 0.38842105263157894,
      "map_2_norm_stderr,none": 0.019267777211785048,
      "map_3_norm,none": 0.4677192982456146,
      "map_3_norm_stderr,none": 0.016845883184738043,
      "map_4_norm,none": 0.5303508771929832,
      "map_4_norm_stderr,none": 0.013599197636936209,
      "alias": "fp2-1.0-0.1"
    },
    "cpa_audit-1.0-0.1": {
      "acc,none": 0.1884422110552764,
      "acc_stderr,none": 0.019626983953553258,
      "acc_norm,none": 0.18592964824120603,
      "acc_norm_stderr,none": 0.01952585408370161,
      "map,none": 0.4229480737018425,
      "map_stderr,none": 0.014833150502229876,
      "map_2,none": 0.2663316582914573,
      "map_2_stderr,none": 0.01977187918978238,
      "map_3,none": 0.32244556113902817,
      "map_3_stderr,none": 0.01883670700005783,
      "map_4,none": 0.3651591289782243,
      "map_4_stderr,none": 0.017542498955488678,
      "map_norm,none": 0.41938860971524256,
      "map_norm_stderr,none": 0.014820755101685916,
      "map_2_norm,none": 0.2638190954773869,
      "map_2_norm_stderr,none": 0.019696537518329633,
      "map_3_norm,none": 0.3182579564489109,
      "map_3_norm_stderr,none": 0.018810753837870214,
      "map_4_norm,none": 0.35783082077051903,
      "map_4_norm_stderr,none": 0.01764573697312196,
      "alias": "cpa_audit-1.0-0.1"
    },
    "cma_basics-1.0-0.1": {
      "acc,none": 0.47368421052631576,
      "acc_stderr,none": 0.08208556498579525,
      "acc_norm,none": 0.42105263157894735,
      "acc_norm_stderr,none": 0.08116837904800629,
      "map,none": 0.6622807017543858,
      "map_stderr,none": 0.054251389810758686,
      "map_2,none": 0.5657894736842105,
      "map_2_stderr,none": 0.07345142052853473,
      "map_3,none": 0.6096491228070174,
      "map_3_stderr,none": 0.06630899661898908,
      "map_4,none": 0.6622807017543858,
      "map_4_stderr,none": 0.054251389810758686,
      "map_norm,none": 0.6447368421052629,
      "map_norm_stderr,none": 0.05161415854280977,
      "map_2_norm,none": 0.5526315789473685,
      "map_2_norm_stderr,none": 0.07002710734081143,
      "map_3_norm,none": 0.6052631578947366,
      "map_3_norm_stderr,none": 0.06108091102870462,
      "map_4_norm,none": 0.6447368421052629,
      "map_4_norm_stderr,none": 0.05161415854280977,
      "alias": "cma_basics-1.0-0.1"
    },
    "chabsa-1.0-0.1": {
      "acc,none": 0.6443092062669947,
      "acc_stderr,none": 0.0054477677208135495,
      "f1,none": 0.5528207922995005,
      "f1_stderr,none": "N/A",
      "acc_norm,none": 0.6443092062669947,
      "acc_norm_stderr,none": 0.0054477677208135495,
      "f1_norm,none": 0.5528207922995005,
      "f1_norm_stderr,none": "N/A",
      "alias": "chabsa-1.0-0.1"
    }
  },
  "group_subtasks": {
    "chabsa-1.0-0.1": [],
    "cma_basics-1.0-0.1": [],
    "cpa_audit-1.0-0.1": [],
    "fp2-1.0-0.1": [],
    "security_sales_1-1.0-0.1": []
  },
  "configs": {
    "chabsa-1.0-0.1": {
      "task": "chabsa-1.0-0.1",
      "dataset_path": "jlm_fin_eval/datasets/chabsa/chabsa.py",
      "dataset_name": "chABSA",
      "test_split": "test",
      "doc_to_text": "[センテンス]: {{sentence}}\nターゲット]: {{target}}\n[答え]:",
      "doc_to_target": "{{polarity}}",
      "doc_to_choice": [
        "positive",
        "negative"
      ],
      "description": "[センテンス]における、[ターゲット]のセンチメントをpositiveかnegativeで選んでください。\n\n\n",
      "target_delimiter": " ",
      "fewshot_delimiter": "\n\n",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "f1",
          "aggregation": "2class_adjusted_macro_f1_score_for_chabsa",
          "higher_is_better": true
        },
        {
          "metric": "f1_norm",
          "aggregation": "2class_adjusted_macro_f1_score_for_chabsa",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": false,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    },
    "cma_basics-1.0-0.1": {
      "task": "cma_basics-1.0-0.1",
      "dataset_path": "jlm_fin_eval/datasets/cma_basics/cma_basics.py",
      "dataset_name": "cma_basics",
      "test_split": "test",
      "doc_to_text": "def doc_to_text_01(doc):\n    q_doc_text = doc[\"question\"] + \"\\n\"\n    if doc[\"context\"] and doc[\"context\"] != \"\":\n        q_doc_text += doc[\"context\"] + \"\\n\"\n    return f\"[問題]:{q_doc_text}[選択肢]:[{', '.join(doc['choices']['text'])}]\\n[答え]:\"\n",
      "doc_to_target": "def doc_to_target_01(doc):\n    return [\n        choice_text\n        for choice_id, choice_text in zip(doc[\"choices\"][\"id\"], doc[\"choices\"][\"text\"])\n        if choice_id == doc[\"answer\"]\n    ][0]\n",
      "doc_to_choice": "def doc_to_choices_01(doc):\n    choices = doc[\"choices\"][\"text\"]\n    return choices\n",
      "description": "[問題]に対する[答え]を[選択肢]の中から選んでください。\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": "\n\n",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4_norm",
          "aggregation": "mean",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": true,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    },
    "cpa_audit-1.0-0.1": {
      "task": "cpa_audit-1.0-0.1",
      "dataset_path": "jlm_fin_eval/datasets/cpa/cpa_audit.py",
      "dataset_name": "cpa_audit",
      "test_split": "test",
      "doc_to_text": "def doc_to_text_01(doc):\n    q_doc_text = doc[\"question\"] + \"\\n\"\n    if doc[\"context\"] and doc[\"context\"] != \"\":\n        q_doc_text += doc[\"context\"] + \"\\n\"\n    return f\"[問題]:{q_doc_text}[選択肢]:[{', '.join(doc['choices']['text'])}]\\n[答え]:\"\n",
      "doc_to_target": "def doc_to_target_01(doc):\n    return [\n        choice_text\n        for choice_id, choice_text in zip(doc[\"choices\"][\"id\"], doc[\"choices\"][\"text\"])\n        if choice_id == doc[\"answer\"]\n    ][0]\n",
      "doc_to_choice": "def doc_to_choices_01(doc):\n    choices = doc[\"choices\"][\"text\"]\n    return choices\n",
      "description": "[問題]に対する[答え]をとして適切な記号の組み合わせを[選択肢]の中から選んでください。\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": "\n\n",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4_norm",
          "aggregation": "mean",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": true,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    },
    "fp2-1.0-0.1": {
      "task": "fp2-1.0-0.1",
      "dataset_path": "jlm_fin_eval/datasets/fp2/fp2.py",
      "dataset_name": "fp2",
      "test_split": "test",
      "doc_to_text": "def doc_to_text_01(doc):\n    q_doc_text = doc[\"question\"] + \"\\n\"\n    if doc[\"context\"] and doc[\"context\"] != \"\":\n        q_doc_text += doc[\"context\"] + \"\\n\"\n    return f\"[問題]:{q_doc_text}[選択肢]:[{', '.join(doc['choices']['text'])}]\\n[答え]:\"\n",
      "doc_to_target": "def doc_to_target_00(doc):\n    answer = doc[\"choices\"][\"text\"][doc[\"choices\"][\"id\"].index(doc[\"answer\"])]\n    return answer\n",
      "doc_to_choice": "def doc_to_choices_00(doc):\n    choices = [choice for choice in doc[\"choices\"][\"text\"]]\n    return choices\n",
      "description": "[問題]に対する[答え]を[選択肢]の中から選んでください。\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": "\n\n",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4_norm",
          "aggregation": "mean",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": true,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    },
    "security_sales_1-1.0-0.1": {
      "task": "security_sales_1-1.0-0.1",
      "dataset_path": "jlm_fin_eval/datasets/security_sales_1/security_sales_1.py",
      "dataset_name": "security_sales_1",
      "test_split": "test",
      "doc_to_text": "def doc_to_text_01(doc):\n    q_doc_text = doc[\"question\"] + \"\\n\"\n    if doc[\"context\"] and doc[\"context\"] != \"\":\n        q_doc_text += doc[\"context\"] + \"\\n\"\n    return f\"[問題]:{q_doc_text}[選択肢]:[{', '.join(doc['choices']['text'])}]\\n[答え]:\"\n",
      "doc_to_target": "def doc_to_target_01(doc):\n    return [\n        choice_text\n        for choice_id, choice_text in zip(doc[\"choices\"][\"id\"], doc[\"choices\"][\"text\"])\n        if choice_id == doc[\"answer\"]\n    ][0]\n",
      "doc_to_choice": "def doc_to_choices_01(doc):\n    choices = doc[\"choices\"][\"text\"]\n    return choices\n",
      "description": "[問題]に対する[答え]を[選択肢]の中から選んでください。\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": "\n\n",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4_norm",
          "aggregation": "mean",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": true,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    }
  },
  "versions": {
    "chabsa-1.0-0.1": 1.0,
    "cma_basics-1.0-0.1": 1.0,
    "cpa_audit-1.0-0.1": 1.0,
    "fp2-1.0-0.1": 1.0,
    "security_sales_1-1.0-0.1": 1.0
  },
  "n-shot": {
    "chabsa-1.0-0.1": 0,
    "cma_basics-1.0-0.1": 0,
    "cpa_audit-1.0-0.1": 0,
    "fp2-1.0-0.1": 0,
    "security_sales_1-1.0-0.1": 0
  },
  "config": {
    "model": "vllm",
    "model_args": "pretrained=elyza/ELYZA-japanese-Llama-2-13b-fast-instruct,dtype=float16,tensor_parallel_size=2",
    "batch_size": 1,
    "batch_sizes": [],
    "device": null,
    "use_cache": null,
    "limit": null,
    "bootstrap_iters": 100000,
    "gen_kwargs": null
  },
  "git_hash": "45fae5d",
  "date": 1714398152.9633992,
  "pretty_env_info": "'NoneType' object has no attribute 'splitlines'",
  "transformers_version": "4.40.1",
  "upper_git_hash": null
}