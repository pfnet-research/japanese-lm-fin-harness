{
  "results": {
    "security_sales_1-1.0-0.3": {
      "acc,none": 0.3684210526315789,
      "acc_stderr,none": 0.06446025638903097,
      "acc_norm,none": 0.40350877192982454,
      "acc_norm_stderr,none": 0.06555933012294897,
      "map,none": 0.6608187134502925,
      "map_stderr,none": 0.035574929522999434,
      "map_2,none": 0.6228070175438597,
      "map_2_stderr,none": 0.043859649122806994,
      "map_3,none": 0.6520467836257311,
      "map_3_stderr,none": 0.03784262896358125,
      "map_4,none": 0.6608187134502925,
      "map_4_stderr,none": 0.035574929522999434,
      "map_norm,none": 0.6681286549707601,
      "map_norm_stderr,none": 0.03797854572729381,
      "map_2_norm,none": 0.631578947368421,
      "map_2_norm_stderr,none": 0.04603024876762329,
      "map_3_norm,none": 0.6374269005847952,
      "map_3_norm_stderr,none": 0.0449563526018721,
      "map_4_norm,none": 0.6681286549707601,
      "map_4_norm_stderr,none": 0.03797854572729381,
      "alias": "security_sales_1-1.0-0.3"
    },
    "fp2-1.0-0.3": {
      "acc,none": 0.21263157894736842,
      "acc_stderr,none": 0.018793761341527004,
      "acc_norm,none": 0.21263157894736842,
      "acc_norm_stderr,none": 0.018793761341527004,
      "map,none": 0.5017543859649131,
      "map_stderr,none": 0.01268603935804462,
      "map_2,none": 0.3505263157894737,
      "map_2_stderr,none": 0.018358989387261354,
      "map_3,none": 0.4417543859649129,
      "map_3_stderr,none": 0.015770907237419952,
      "map_4,none": 0.5017543859649131,
      "map_4_stderr,none": 0.01268603935804462,
      "map_norm,none": 0.5017543859649131,
      "map_norm_stderr,none": 0.01268603935804462,
      "map_2_norm,none": 0.3505263157894737,
      "map_2_norm_stderr,none": 0.018358989387261354,
      "map_3_norm,none": 0.4417543859649129,
      "map_3_norm_stderr,none": 0.015770907237419952,
      "map_4_norm,none": 0.5017543859649131,
      "map_4_norm_stderr,none": 0.01268603935804462,
      "alias": "fp2-1.0-0.3"
    },
    "cpa_audit-1.0-0.3": {
      "acc,none": 0.15577889447236182,
      "acc_stderr,none": 0.018200660886313003,
      "acc_norm,none": 0.15577889447236182,
      "acc_norm_stderr,none": 0.018200660886313003,
      "map,none": 0.3968174204355106,
      "map_stderr,none": 0.014080665047605957,
      "map_2,none": 0.23366834170854273,
      "map_2_stderr,none": 0.01878706909480231,
      "map_3,none": 0.292294807370184,
      "map_3_stderr,none": 0.018014094600356585,
      "map_4,none": 0.33249581239530956,
      "map_4_stderr,none": 0.016927952179891546,
      "map_norm,none": 0.394262981574539,
      "map_norm_stderr,none": 0.01411236427332831,
      "map_2_norm,none": 0.22989949748743718,
      "map_2_norm_stderr,none": 0.01877786205515764,
      "map_3_norm,none": 0.2893634840871019,
      "map_3_norm_stderr,none": 0.01802106931771037,
      "map_4_norm,none": 0.32768006700167474,
      "map_4_norm_stderr,none": 0.017009809309862137,
      "alias": "cpa_audit-1.0-0.3"
    },
    "cma_basics-1.0-0.3": {
      "acc,none": 0.23684210526315788,
      "acc_stderr,none": 0.06989334006042333,
      "acc_norm,none": 0.21052631578947367,
      "acc_norm_stderr,none": 0.06702258315442244,
      "map,none": 0.4956140350877193,
      "map_stderr,none": 0.0479700306287161,
      "map_2,none": 0.3157894736842105,
      "map_2_stderr,none": 0.06908529741185666,
      "map_3,none": 0.42982456140350883,
      "map_3_stderr,none": 0.05917868767997714,
      "map_4,none": 0.4956140350877193,
      "map_4_stderr,none": 0.0479700306287161,
      "map_norm,none": 0.4934210526315789,
      "map_norm_stderr,none": 0.045370206262271943,
      "map_2_norm,none": 0.32894736842105265,
      "map_2_norm_stderr,none": 0.0660733562268826,
      "map_3_norm,none": 0.43421052631578955,
      "map_3_norm_stderr,none": 0.0560612069563919,
      "map_4_norm,none": 0.4934210526315789,
      "map_4_norm_stderr,none": 0.045370206262271943,
      "alias": "cma_basics-1.0-0.3"
    },
    "chabsa-1.0-0.3": {
      "acc,none": 0.5613103716172472,
      "acc_stderr,none": 0.005646967890138889,
      "f1,none": 0.3598083358969339,
      "f1_stderr,none": "N/A",
      "acc_norm,none": 0.5613103716172472,
      "acc_norm_stderr,none": 0.005646967890138889,
      "f1_norm,none": 0.3598083358969339,
      "f1_norm_stderr,none": "N/A",
      "alias": "chabsa-1.0-0.3"
    }
  },
  "group_subtasks": {
    "chabsa-1.0-0.3": [],
    "cma_basics-1.0-0.3": [],
    "cpa_audit-1.0-0.3": [],
    "fp2-1.0-0.3": [],
    "security_sales_1-1.0-0.3": []
  },
  "configs": {
    "chabsa-1.0-0.3": {
      "task": "chabsa-1.0-0.3",
      "dataset_path": "jlm_fin_eval/datasets/chabsa/chabsa.py",
      "dataset_name": "chABSA",
      "test_split": "test",
      "doc_to_text": "### 入力:\nセンテンス:{{sentence}}\nターゲット:{{target}}\n\n### 応答:\n\n",
      "doc_to_target": "{{polarity}}",
      "doc_to_choice": [
        "positive",
        "negative"
      ],
      "description": "以下は、タスクを説明する指示と、文脈のある入力の組み合わせです。要求を適切に満たす応答を書きなさい。\n\n### 指示:\n以下のセンテンスにおける、ターゲットのセンチメントをpositiveかnegativeで答えてください。\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": "\n\n",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "f1",
          "aggregation": "2class_adjusted_macro_f1_score_for_chabsa",
          "higher_is_better": true
        },
        {
          "metric": "f1_norm",
          "aggregation": "2class_adjusted_macro_f1_score_for_chabsa",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": false,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    },
    "cma_basics-1.0-0.3": {
      "task": "cma_basics-1.0-0.3",
      "dataset_path": "jlm_fin_eval/datasets/cma_basics/cma_basics.py",
      "dataset_name": "cma_basics",
      "test_split": "test",
      "doc_to_text": "def doc_to_text_03(doc):\n    q_doc_text = doc[\"question\"] + \"\\n\"\n    if doc[\"context\"] and doc[\"context\"] != \"\":\n        q_doc_text += doc[\"context\"] + \"\\n\"\n    choices = \"\\n\".join([f\"- {choice}\" for choice in doc[\"choices\"][\"text\"]])\n    input_text = f\"{q_doc_text}\" + f\"出力は以下から選択してください：\\n{choices}\"\n    return f\"### 入力:\\n{input_text}\\n\\n### 応答:\\n\"\n",
      "doc_to_target": "def doc_to_target_01(doc):\n    return [\n        choice_text\n        for choice_id, choice_text in zip(doc[\"choices\"][\"id\"], doc[\"choices\"][\"text\"])\n        if choice_id == doc[\"answer\"]\n    ][0]\n",
      "doc_to_choice": "def doc_to_choices_01(doc):\n    choices = doc[\"choices\"][\"text\"]\n    return choices\n",
      "description": "以下は、タスクを説明する指示と、文脈のある入力の組み合わせです。要求を適切に満たす応答を書きなさい。\n\n### 指示:\n与えられた選択肢の中から、最適な答えを選んでください。\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": "\n\n",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4_norm",
          "aggregation": "mean",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": true,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    },
    "cpa_audit-1.0-0.3": {
      "task": "cpa_audit-1.0-0.3",
      "dataset_path": "jlm_fin_eval/datasets/cpa/cpa_audit.py",
      "dataset_name": "cpa_audit",
      "test_split": "test",
      "doc_to_text": "def doc_to_text_03(doc):\n    q_doc_text = doc[\"question\"] + \"\\n\"\n    if doc[\"context\"] and doc[\"context\"] != \"\":\n        q_doc_text += doc[\"context\"] + \"\\n\"\n    choices = \"\\n\".join([f\"- {choice}\" for choice in doc[\"choices\"][\"text\"]])\n    input_text = f\"{q_doc_text}\" + f\"出力は以下から選択してください：\\n{choices}\"\n    return f\"### 入力:\\n{input_text}\\n\\n### 応答:\\n\"\n",
      "doc_to_target": "def doc_to_target_01(doc):\n    return [\n        choice_text\n        for choice_id, choice_text in zip(doc[\"choices\"][\"id\"], doc[\"choices\"][\"text\"])\n        if choice_id == doc[\"answer\"]\n    ][0]\n",
      "doc_to_choice": "def doc_to_choices_01(doc):\n    choices = doc[\"choices\"][\"text\"]\n    return choices\n",
      "description": "以下は、タスクを説明する指示と、文脈のある入力の組み合わせです。要求を適切に満たす応答を書きなさい。\n\n### 指示:\n与えられた答えの組み合わせの選択肢の中から、最適な選択肢を選んでください。\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": "\n\n",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4_norm",
          "aggregation": "mean",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": true,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    },
    "fp2-1.0-0.3": {
      "task": "fp2-1.0-0.3",
      "dataset_path": "jlm_fin_eval/datasets/fp2/fp2.py",
      "dataset_name": "fp2",
      "test_split": "test",
      "doc_to_text": "def doc_to_text_03(doc):\n    q_doc_text = doc[\"question\"] + \"\\n\"\n    if doc[\"context\"] and doc[\"context\"] != \"\":\n        q_doc_text += doc[\"context\"] + \"\\n\"\n    input_text = f\"{q_doc_text}\"\n    return f\"### 入力:\\n{input_text}\\n### 応答:\\n\"\n",
      "doc_to_target": "def doc_to_target_00(doc):\n    answer = doc[\"choices\"][\"text\"][doc[\"choices\"][\"id\"].index(doc[\"answer\"])]\n    return answer\n",
      "doc_to_choice": "def doc_to_choices_00(doc):\n    choices = [choice for choice in doc[\"choices\"][\"text\"]]\n    return choices\n",
      "description": "以下は、タスクを説明する指示と、文脈のある入力の組み合わせです。要求を適切に満たす応答を書きなさい。\n\n### 指示:\n与えられた選択肢の中から、最適な答えを選んでください。\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": "\n\n",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4_norm",
          "aggregation": "mean",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": true,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    },
    "security_sales_1-1.0-0.3": {
      "task": "security_sales_1-1.0-0.3",
      "dataset_path": "jlm_fin_eval/datasets/security_sales_1/security_sales_1.py",
      "dataset_name": "security_sales_1",
      "test_split": "test",
      "doc_to_text": "def doc_to_text_03(doc):\n    q_doc_text = doc[\"question\"] + \"\\n\"\n    if doc[\"context\"] and doc[\"context\"] != \"\":\n        q_doc_text += doc[\"context\"] + \"\\n\"\n    choices = \"\\n\".join([f\"- {choice}\" for choice in doc[\"choices\"][\"text\"]])\n    input_text = f\"{q_doc_text}\" + f\"出力は以下から選択してください：\\n{choices}\"\n    return f\"### 入力:\\n{input_text}\\n\\n### 応答:\\n\"\n",
      "doc_to_target": "def doc_to_target_01(doc):\n    return [\n        choice_text\n        for choice_id, choice_text in zip(doc[\"choices\"][\"id\"], doc[\"choices\"][\"text\"])\n        if choice_id == doc[\"answer\"]\n    ][0]\n",
      "doc_to_choice": "def doc_to_choices_01(doc):\n    choices = doc[\"choices\"][\"text\"]\n    return choices\n",
      "description": "以下は、タスクを説明する指示と、文脈のある入力の組み合わせです。要求を適切に満たす応答を書きなさい。\n\n### 指示:\n与えられた選択肢の中から、最適な答えを選んでください。\n\n\n",
      "target_delimiter": "",
      "fewshot_delimiter": "\n\n",
      "num_fewshot": 0,
      "metric_list": [
        {
          "metric": "acc",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "acc_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_2_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_3_norm",
          "aggregation": "mean",
          "higher_is_better": true
        },
        {
          "metric": "map_4_norm",
          "aggregation": "mean",
          "higher_is_better": true
        }
      ],
      "output_type": "multiple_choice",
      "repeats": 1,
      "should_decontaminate": true,
      "doc_to_decontamination_query": "sentence",
      "metadata": {
        "version": 1.0
      }
    }
  },
  "versions": {
    "chabsa-1.0-0.3": 1.0,
    "cma_basics-1.0-0.3": 1.0,
    "cpa_audit-1.0-0.3": 1.0,
    "fp2-1.0-0.3": 1.0,
    "security_sales_1-1.0-0.3": 1.0
  },
  "n-shot": {
    "chabsa-1.0-0.3": 0,
    "cma_basics-1.0-0.3": 0,
    "cpa_audit-1.0-0.3": 0,
    "fp2-1.0-0.3": 0,
    "security_sales_1-1.0-0.3": 0
  },
  "config": {
    "model": "vllm",
    "model_args": "pretrained=tokyotech-llm/Swallow-7b-plus-hf,dtype=bfloat16",
    "batch_size": 1,
    "batch_sizes": [],
    "device": null,
    "use_cache": null,
    "limit": null,
    "bootstrap_iters": 100000,
    "gen_kwargs": null
  },
  "git_hash": "7817456",
  "date": 1714416117.5753438,
  "pretty_env_info": "'NoneType' object has no attribute 'splitlines'",
  "transformers_version": "4.40.1",
  "upper_git_hash": null
}